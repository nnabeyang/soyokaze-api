//
// DO NOT EDIT
//
// Generated by swift-atproto
//

import SwiftAtproto
import Foundation

extension appbskytypes {
    public struct VideoDefs_JobStatus: Codable, Sendable {
        public var blob: LexBlob?
        public var did: String
        public var error: String?
        public var jobId: String
        public var message: String?
        public var progress: Int?
        public var state: VideoDefs_JobStatus_State
        public let _unknownValues: [String: AnyCodable]

        public init(blob: LexBlob? = nil, did: String, error: String? = nil, jobId: String, message: String? = nil, progress: Int? = nil, state: VideoDefs_JobStatus_State) {
            self.blob = blob
            self.did = did
            self.error = error
            self.jobId = jobId
            self.message = message
            self.progress = progress
            self.state = state
            self._unknownValues = [:]
        }

        enum CodingKeys: String, CodingKey {
            case blob
            case did
            case error
            case jobId
            case message
            case progress
            case state
        }

        public init(from decoder: any Decoder) throws {
            let keyedContainer = try decoder.container(keyedBy: CodingKeys.self)
            self.blob = try keyedContainer.decodeIfPresent(LexBlob.self, forKey: .blob)
            self.did = try keyedContainer.decode(String.self, forKey: .did)
            self.error = try keyedContainer.decodeIfPresent(String.self, forKey: .error)
            self.jobId = try keyedContainer.decode(String.self, forKey: .jobId)
            self.message = try keyedContainer.decodeIfPresent(String.self, forKey: .message)
            self.progress = try keyedContainer.decodeIfPresent(Int.self, forKey: .progress)
            self.state = try keyedContainer.decode(VideoDefs_JobStatus_State.self, forKey: .state)
            let unknownContainer = try decoder.container(keyedBy: AnyCodingKeys.self)
            var _unknownValues = [String: AnyCodable]()
            for key in unknownContainer.allKeys {
                guard CodingKeys(rawValue: key.stringValue) == nil else {
                    continue
                }
                _unknownValues[key.stringValue] = try unknownContainer.decode(AnyCodable.self, forKey: key)
            }
            self._unknownValues = _unknownValues
        }

        public func encode(to encoder: any Encoder) throws {
            var container = encoder.container(keyedBy: CodingKeys.self)
            try container.encodeIfPresent(self.blob, forKey: .blob)
            try container.encode(self.did, forKey: .did)
            try container.encodeIfPresent(self.error, forKey: .error)
            try container.encode(self.jobId, forKey: .jobId)
            try container.encodeIfPresent(self.message, forKey: .message)
            try container.encodeIfPresent(self.progress, forKey: .progress)
            try container.encode(self.state, forKey: .state)
            try _unknownValues.encode(to: encoder)
        }
    }

    public indirect enum VideoDefs_JobStatus_State: RawRepresentable, Codable, Sendable {
        case jobStateCompleted
        case jobStateFailed
        case _other(String)

        public init(rawValue: String) {
            switch rawValue {
            case "JOB_STATE_COMPLETED":
                self = .jobStateCompleted
            case "JOB_STATE_FAILED":
                self = .jobStateFailed
            default:
                self = ._other(rawValue)
            }
        }

        public var rawValue: String {
            switch self {
            case .jobStateCompleted:
                "JOB_STATE_COMPLETED"
            case .jobStateFailed:
                "JOB_STATE_FAILED"
            case let ._other(value):
                value
            }
        }

        public init(from decoder: any Decoder) throws {
            let rawValue = try String(from: decoder)
            self = Self(rawValue: rawValue)
        }

        public func encode(to encoder: any Encoder) throws {
            try rawValue.encode(to: encoder)
        }
    }
}
