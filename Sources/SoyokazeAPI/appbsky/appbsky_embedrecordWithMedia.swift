//
// DO NOT EDIT
//
// Generated by swift-atproto
//

import SwiftAtproto
import Foundation

extension appbskytypes {
    public struct EmbedRecordWithMedia: Codable, Sendable {
        public var media: EmbedRecordWithMedia_Media
        public var record: EmbedRecord
        public var _unknownValues: [String: AnyCodable]

        public init(media: EmbedRecordWithMedia_Media, record: EmbedRecord) {
            self.media = media
            self.record = record
            self._unknownValues = [:]
        }

        enum CodingKeys: String, CodingKey {
            case media
            case record
        }

        public init(from decoder: any Decoder) throws {
            let keyedContainer = try decoder.container(keyedBy: CodingKeys.self)
            self.media = try keyedContainer.decode(EmbedRecordWithMedia_Media.self, forKey: .media)
            self.record = try keyedContainer.decode(EmbedRecord.self, forKey: .record)
            let unknownContainer = try decoder.container(keyedBy: AnyCodingKeys.self)
            var _unknownValues = [String: AnyCodable]()
            for key in unknownContainer.allKeys {
                guard CodingKeys(rawValue: key.stringValue) == nil else {
                    continue
                }
                _unknownValues[key.stringValue] = try unknownContainer.decode(AnyCodable.self, forKey: key)
            }
            self._unknownValues = _unknownValues
        }

        public func encode(to encoder: any Encoder) throws {
            var container = encoder.container(keyedBy: CodingKeys.self)
            try container.encode(self.media, forKey: .media)
            try container.encode(self.record, forKey: .record)
            try _unknownValues.encode(to: encoder)
        }
    }

    public indirect enum EmbedRecordWithMedia_Media: Codable, Sendable {
        case embedImages(EmbedImages)
        case embedVideo(EmbedVideo)
        case embedExternal(EmbedExternal)
        case _other(UnknownRecord)

        enum CodingKeys: String, CodingKey {
            case type = "$type"
        }

        public init(from decoder: Decoder) throws {
            let container = try decoder.container(keyedBy: CodingKeys.self)
            let type = try container.decode(String.self, forKey: .type)
            switch type {
            case "app.bsky.embed.images":
                self = try .embedImages(.init(from: decoder))
            case "app.bsky.embed.video":
                self = try .embedVideo(.init(from: decoder))
            case "app.bsky.embed.external":
                self = try .embedExternal(.init(from: decoder))
            default:
                self = try ._other(.init(from: decoder))
            }
        }

        public func encode(to encoder: Encoder) throws {
            var container = encoder.container(keyedBy: CodingKeys.self)
            switch self {
            case let .embedImages(value):
                try container.encode("app.bsky.embed.images", forKey: .type)
                try value.encode(to: encoder)
            case let .embedVideo(value):
                try container.encode("app.bsky.embed.video", forKey: .type)
                try value.encode(to: encoder)
            case let .embedExternal(value):
                try container.encode("app.bsky.embed.external", forKey: .type)
                try value.encode(to: encoder)
            case let ._other(value):
                try value.encode(to: encoder)
            }
        }
    }

    public struct EmbedRecordWithMedia_View: Codable, Sendable {
        public var media: EmbedRecordWithMedia_View_Media
        public var record: EmbedRecord_View
        public var _unknownValues: [String: AnyCodable]

        public init(media: EmbedRecordWithMedia_View_Media, record: EmbedRecord_View) {
            self.media = media
            self.record = record
            self._unknownValues = [:]
        }

        enum CodingKeys: String, CodingKey {
            case media
            case record
        }

        public init(from decoder: any Decoder) throws {
            let keyedContainer = try decoder.container(keyedBy: CodingKeys.self)
            self.media = try keyedContainer.decode(EmbedRecordWithMedia_View_Media.self, forKey: .media)
            self.record = try keyedContainer.decode(EmbedRecord_View.self, forKey: .record)
            let unknownContainer = try decoder.container(keyedBy: AnyCodingKeys.self)
            var _unknownValues = [String: AnyCodable]()
            for key in unknownContainer.allKeys {
                guard CodingKeys(rawValue: key.stringValue) == nil else {
                    continue
                }
                _unknownValues[key.stringValue] = try unknownContainer.decode(AnyCodable.self, forKey: key)
            }
            self._unknownValues = _unknownValues
        }

        public func encode(to encoder: any Encoder) throws {
            var container = encoder.container(keyedBy: CodingKeys.self)
            try container.encode(self.media, forKey: .media)
            try container.encode(self.record, forKey: .record)
            try _unknownValues.encode(to: encoder)
        }
    }

    public indirect enum EmbedRecordWithMedia_View_Media: Codable, Sendable {
        case embedImagesView(EmbedImages_View)
        case embedVideoView(EmbedVideo_View)
        case embedExternalView(EmbedExternal_View)
        case _other(UnknownRecord)

        enum CodingKeys: String, CodingKey {
            case type = "$type"
        }

        public init(from decoder: Decoder) throws {
            let container = try decoder.container(keyedBy: CodingKeys.self)
            let type = try container.decode(String.self, forKey: .type)
            switch type {
            case "app.bsky.embed.images#view":
                self = try .embedImagesView(.init(from: decoder))
            case "app.bsky.embed.video#view":
                self = try .embedVideoView(.init(from: decoder))
            case "app.bsky.embed.external#view":
                self = try .embedExternalView(.init(from: decoder))
            default:
                self = try ._other(.init(from: decoder))
            }
        }

        public func encode(to encoder: Encoder) throws {
            var container = encoder.container(keyedBy: CodingKeys.self)
            switch self {
            case let .embedImagesView(value):
                try container.encode("app.bsky.embed.images#view", forKey: .type)
                try value.encode(to: encoder)
            case let .embedVideoView(value):
                try container.encode("app.bsky.embed.video#view", forKey: .type)
                try value.encode(to: encoder)
            case let .embedExternalView(value):
                try container.encode("app.bsky.embed.external#view", forKey: .type)
                try value.encode(to: encoder)
            case let ._other(value):
                try value.encode(to: encoder)
            }
        }
    }
}
